{% extends 'base.html' %} 
{% block content %}
{% load static %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
   
<h1>Company Dashboard</h1>
<p style="font-size: 25px;font-weight: bold;">{{ request.user.companyName }}</p>

<style>
.my_row{
  margin-top: 2rem;
}

</style>

<div style="padding: 3rem" class="my_row row shadow-lg p-3 mb-5 bg-body rounded">
    <h5 style="padding: 2rem;font-family:'Verdana';">Some analytical</h5>
    <div class="col" id="BarChart" style="height:500px;padding: 1rem;gap: 1rem;border: thick double #32a1ce;"></div>
    <div class="col" id="piechart_3d" style="height:500px;padding: 1rem;border: thick double #32a1ce;"></div>
</div>

<div style="padding: 3rem" class="my_row row shadow-lg p-3 mb-5 bg-body rounded">
    <h5  style="padding: 2rem;font-family:'Verdana';">All product list</h5>
    <table class="table table-striped table-hover table-bordered" >
  <thead>
    <tr>
      <th style="padding: 1rem;" scope="col">Product ID</th>
      <th style="padding: 1rem;" scope="col">Product NAme</th>
      <th style="padding: 1rem;" scope="col">Description</th>
      <th style="padding: 1rem;" scope="col">Link</th>
    </tr>
  </thead>
  <tbody>
    {% for product in allproduct %}
    <tr>
        <td style="padding: 1rem;">{{ product.id }} </td>
        <td style="padding: 1rem;">{{ product.productName }}</td>
        <td style="padding: 1rem;">{{ product.productDescription }}</td>
        <td style="padding: 1rem;"><a href="{{ product.link }}"><i class="fa-solid fa-share"></i></a></td>
    </tr>
    {% endfor %}    
  </tbody>
    </table>
</div>

<div style="padding: 3rem" class="my_row row shadow-lg p-3 mb-5 bg-body rounded">
    <h5 style="padding: 2rem;font-family:'Verdana';">Sell Product list</h5>  
    <table class="table table-striped table-hover table-bordered" >
  <thead>
    <tr>
      <th style="padding: 1rem;" scope="col">Product ID</th>
      <th style="padding: 1rem;" scope="col">Product NAme</th>
      <th style="padding: 1rem;" scope="col">Product Status</th>
      <th style="padding: 1rem;" scope="col">Link</th>
    </tr>
  </thead>
  <tbody>
    {% for product in sellproduct %}
    <tr>
        <td style="padding: 1rem;">{{ product.productID }}</td>
        <td style="padding: 1rem;">{{ product.productName }}</td>
        <td style="padding: 1rem;">
            {% if product.sellType == 1 %}
                Distributer
            {% elif product.sellType == 2 %}
                Retailer
            {% else %}
                End Customer
            {% endif %}
        </td>
        <td><a href="{{ product.link }}"><i class="fa-solid fa-share"></i></a></td>
    </tr>
    {% endfor %}    
  </tbody>
    </table>
</div>

<div style="padding: 3rem" class="my_row row ">

  <div class="col shadow-lg p-3 mb-5 bg-body rounded" id="regions_div" style="height:500px;padding: 1rem;gap: 1rem;border: 1px solid black;margin-right: 2rem;"></div>
  <div class="col shadow-lg p-3 mb-5 bg-body rounded"  style="height:500px;padding: 1rem;border: 1px solid black;margin-left: 2rem;"></div>

</div>


    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        
        // Draw the chart and set the chart values
        function drawChart() {
          var data = google.visualization.arrayToDataTable([
          ['Type','Total Product',],
          ['sell', {{ sell }}],
          ['Register', {{ register }}],
         ]);
        
          // Optional; add a title and set the width and height of the chart
          var options = {
              'title': "Total Register Product(by Comapany) vs Total Sold Product",
              is3D: true,
           };
    
          // Display the chart inside the <div> element with id="piechart"
          var chart = new google.visualization.BarChart(document.getElementById('BarChart'));
          chart.draw(data, options);
        }
    </script>
     <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Product Status', 'Count'],
          ['Distributer',     {{ distributerCount }}],
          ['Retailer',      {{ retailerCount }}],
          ['End Customer',  {{ endCustomerCount }}]
        ]);

        var options = {
          title: 'Sell Product Status',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }
  </script>

<script type="text/javascript">
  google.charts.load('current', {
    'packages':['geochart'],
  });
  google.charts.setOnLoadCallback(drawRegionsMap);

  function drawRegionsMap() {
    var data = google.visualization.arrayToDataTable([
      ['Country', 'Register'],
      ['India',1000]
    ]);

    var options = {};

    var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

    chart.draw(data, options);
  }
</script>
    


{% include "footer.html" %}


{% endblock %}