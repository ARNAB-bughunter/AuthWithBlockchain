{% load static %}
<link rel="stylesheet" href="{% static 'auth.css' %}">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@48,400,1,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Blaka&display=swap" rel="stylesheet">
    
    <style>

            /* The Modal (background) */
            .modal {
              display: block; /* Hidden by default */
              position: fixed; /* Stay in place */
              z-index: 1; /* Sit on top */
              padding-top: 50px; /* Location of the box */
              left: 0;
              top: 0;
              width: 100%; /* Full width */
              height: 100%; /* Full height */
              overflow: auto; /* Enable scroll if needed */
              background-color: rgb(0,0,0); /* Fallback color */
              background-color: rgba(0,0,0,0.4); /* Black w/ opacity */

            }
            .modal-content {
              position: relative;
              margin: auto;
              padding: 0;
              border: 1px solid #888;
              width: 30%;
              box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
              -webkit-animation-name: animatetop;
              -webkit-animation-duration: 0.4s;
              animation-name: animatetop;
              animation-duration: 0.4s;
              border-radius: 5px;
            }
            @-webkit-keyframes animatetop {
              from {top:-300px; opacity:0} 
              to {top:0; opacity:1}
            }
            @keyframes animatetop {
              from {top:-300px; opacity:0}
              to {top:0; opacity:1}
            }
            .close {
              color: black;
              float: right;
              font-size: 28px;
              font-weight: bold;
            }

            .close:hover,
            .close:focus {
              color: #000;
              text-decoration: none;
              cursor: pointer;
            }
            .modal-body {padding: 2px 16px;text-align: center;}
    </style>

    {% if messages%}

    <div id="myModal" class="modal">
        <!-- Modal content -->
        {% for message in messages %}
            {%  if message.tags == 'error'  %}
                <div style="background-color: rgb(248, 215, 218);" class="modal-content">
                    <div  class="modal-body">
                        <span  class="close">&times;</span>
                            <p style="font-size:25px;font-weight: bolder;font-family: 'Poppins', sans-serif;padding: 1rem;color: rgb(132,32,41);"><span class="material-icons">warning</span> {{ message }}</p>
                    </div>
                </div>
            {%  elif message.tags == 'success'  %}
                <div style="background-color: rgb(209, 231, 221);" class="modal-content">
                    <div  class="modal-body">
                        <span  class="close">&times;</span>
                            <p style="font-size:25px;font-weight: bolder;font-family: 'Poppins', sans-serif;padding: 1rem;color: rgb(15, 81, 50);"><span class="material-icons">check</span> {{ message }}</p>
                    </div>
                </div>
            {% endif %}
        {% endfor %}        
    </div>
    {% endif %}

    <div class="container">
        <input type="checkbox" id="flip">
        <div class="cover">
            <div class="cover__img">
                <img src="{% static '1519087.jpg' %}" alt="">
            </div>
        </div>
        <div class="form__body">
            
            <form action="/signin/" method="post" class="login__form">
                {% csrf_token %}
                <div class="form__header">Login</div>
                <div class="input__fields">
                    <div class="input__field">
                        <span class="material-icons">person</span>
                        <input type="text" placeholder="username" tabindex=-1 name="username">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    <div class="input__field password">
                        <span class="material-icons">lock</span>
                        <input type="password" placeholder="password" tabindex=-1 name="password">
                        <div class="line"></div>
                    </div>
                    <div class="input__field button">
                        <input type="submit" value="Login">
                    </div>
                    <div class="text">Don't have an account? <label for="flip">Sign Up now</lable>
                    </div>
                </div>
            </form>
            <form action="/signup/" method="post" class="signup__form">
                {% csrf_token %}
                <div class="form__header">Sign Up</div>
                <div class="input__fields">
                    <div class="input__field">
                        <span class="material-icons">business</span>
                        <input type="text" placeholder="Company Name" tabindex=-1 name="company">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    <div class="input__field">
                        <span class="material-icons">smartphone</span>
                        <input type="text" placeholder="Phone Number" tabindex=-1 name="phone">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    
                    <div class="input__field email">
                        <span class="material-icons">mail</span>
                        <input type="email" placeholder="email" tabindex=-1 name="email">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    <div class="input__field">
                        <span class="material-icons">person</span>
                        <input type="text" placeholder="username" tabindex=-1 name="username">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    <div class="input__field password">
                        <span class="material-icons">password</span>
                        <input type="password" placeholder="password" tabindex=-1 name="password">
                        <!-- changes -->
                        <div class="line"></div>
                        <!-- end of change -->
                    </div>
                    <div class="input__field button">
                        <span></span>
                        <input type="submit" value="Sign Up">
                    </div>
                    <div class="text">Already have an account? <label for="flip">Login now</lable>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% if messages %}
    <script>
            var modal = document.getElementById("myModal");
            var span = document.getElementsByClassName("close")[0];
            {% if messages %}
                modal.style.display = "block";
            {% endif %}
            
            modal.style.display = "block";
            
            span.onclick = function() {
            modal.style.display = "none";
            }
    </script>
{% endif %}